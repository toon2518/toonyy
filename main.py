
from flask import Flask, render_template, request, redirect, url_for, flash
import json
import os
from datetime import datetime

app = Flask(__name__)
app.secret_key = 'school_secret_key'

# Data files
STUDENTS_FILE = 'students.json'
TEACHERS_FILE = 'teachers.json'
CLASSES_FILE = 'classes.json'

# Initialize data files if they don't exist
def init_data_files():
    if not os.path.exists(STUDENTS_FILE):
        with open(STUDENTS_FILE, 'w', encoding='utf-8') as f:
            json.dump([], f, ensure_ascii=False)
    
    if not os.path.exists(TEACHERS_FILE):
        with open(TEACHERS_FILE, 'w', encoding='utf-8') as f:
            json.dump([], f, ensure_ascii=False)
    
    if not os.path.exists(CLASSES_FILE):
        with open(CLASSES_FILE, 'w', encoding='utf-8') as f:
            json.dump([], f, ensure_ascii=False)
